---
import logotype from "../assets/branding/company/logotype-white.svg";
import EventBanner from "./EventBanner.svelte";
import { Image } from "astro:assets";
import LatestBlogPostPill from "./LatestBlogPostPill.astro";
import { products } from "../lib/products";

const spacer = Symbol("spacer");
const links = [
	products.cheerp,
	products.cheerpj3,
	products.cheerpx,
	spacer,
	{ name: "Developers", href: "https://labs.leaningtech.com" },
];
---

<EventBanner client:idle />

<nav
	aria-label="Primary navigation"
	class="z-30 bg-stone-950 text-white border-b border-stone-700"
>
	<div
		class="w-full h-16 p-4 whitespace-nowrap overflow-hidden flex items-center justify-between"
	>
		<a href="https://leaningtech.com" class="flex items-center">
			<Image
				src={logotype}
				alt="Leaning Technologies"
				title="Leaning Technologies"
				class="h-8"
			/>
		</a>
		<div class="hidden sm:flex items-center gap-4 flex-none font-medium px-8">
			{
				links.map((link) => {
					if (link === spacer) {
						return <span />;
					} else {
						return (
							<a href={link.href} class="hover:text-primary-500">
								{link.name}
							</a>
						);
					}
				})
			}
		</div>
		<div class="ml-auto hidden lg:block overflow-hidden">
			<LatestBlogPostPill />
		</div>
	</div>
</nav>

<style is:global>
	:target {
		scroll-margin-top: 74px;
	}
</style>
